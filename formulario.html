<!DOCTYPE html>
<html lang="pt-br">
<head>
    <link rel="stylesheet" href="form.css">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RÃ¡dio Vargas</title>
</head>
<body>
    <form id="form-cadastro" class="card">
        <h1>ðŸŽ¶ RÃ¡dio Vargas ðŸŽ¶</h1>
        <h3>Pedido de MÃºsica</h3>
        <hr style="border: 0; border-top: 1px solid #ffcc80; margin-bottom: 25px;">

        <label for="nome">Nome Completo:</label>
        <input type="text" name="nome" id="nome" required autofocus>

        <label for="email">Email:</label>
        <input type="email" name="email" id="email" required placeholder="Exemplo: email@email.com">

        <label for="telefone">Telefone:</label>
        <input type="tel" name="telefone" id="telefone" required placeholder="(xx) xxxxx-xxxx">

        <label for="musica">MÃºsica desejada:</label>
        <input type="text" name="musica" id="musica" required placeholder="Digite o nome da mÃºsica">

        <label for="artista">Artista / Banda:</label>
        <input type="text" name="artista" id="artista" required placeholder="Ex: LegiÃ£o Urbana">

        <label for="foto">Foto para aparecer no pedido (opcional):</label>
        <input type="file" name="foto" id="foto">

        <label for="dedicat">Mensagem de DedicaÃ§Ã£o:</label>
        <textarea name="dedicat" id="dedicat" rows="4" maxlength="200" placeholder="Mensagem especial para alguÃ©m..."></textarea>

        <button type="submit" class="btn-enviar">Enviar Pedido</button>
        
        <br><br>
        <a href="index.html" style="display:block; text-align:center; color:#e65100; text-decoration:none;">&larr; Voltar ao Menu</a>
    </form> 

    <script>
        document.getElementById('form-cadastro').addEventListener('submit', function(e) {
            e.preventDefault(); 

            const inputFoto = document.getElementById('foto');
            let nomeArquivoFoto = "Nenhuma foto";

            if (inputFoto.files.length > 0) {
                nomeArquivoFoto = inputFoto.files[0].name;
            }

            const dados = {
                nome: document.getElementById('nome').value,
                email: document.getElementById('email').value,
                telefone: document.getElementById('telefone').value,
                musica: document.getElementById('musica').value,
                artista: document.getElementById('artista').value,
                foto: nomeArquivoFoto,
                dedicacao: document.getElementById('dedicat').value || "Sem mensagem"
            };

            localStorage.setItem('pedidoMusical', JSON.stringify(dados));
            window.location.href = 'relatorio.html';
        });
    </script>
</body>
</html>